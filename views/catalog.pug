extends ../node_modules/pug-bootstrap/layouts/starter
append body
  .container
    //TODO add bootstrap components: beer cards https://v4-alpha.getbootstrap.com/components/card/, modals, pagination, tooltips
    h1= title
    .container
      if styles != null
        strong Total &nbsp
        +label-primary("BA")
        strong &nbsp beer:&nbsp #{styles.ba_aggs.hits.total}
        |<br>
        strong Total &nbsp
        +label-primary("AP")
        strong &nbsp beer:&nbsp #{styles.ap_aggs.hits.total}
        - var obj = styles.ba_aggs.aggregations["Beer styles"].buckets;
        - var keyNames = Object.keys(obj);
        - var obj2 = styles.ap_aggs.aggregations["Beer styles"].buckets;
        - var keyNames2 = Object.keys(obj2);
        .container
          .row
            .col-sm-4
              strong BeerAdvocate styles
            .col-sm-4
              strong Apivo styles
            .col-sm-4
              strong Both
          .row
            .col-sm-4
              for v in keyNames
                strong #{v}&nbsp
                +badge(obj[v]["doc_count"])
                - var max = Number(obj[v]["stats_abv"]["max"]).toFixed(1)
                |<br>&nbsp&nbsp&nbsp&nbspmax AVG:&nbsp#{max}
                |<br>
            .col-sm-4
              for v in keyNames2
                strong Beer Style: #{obj2[v]["key"]}&nbsp
                +badge(obj2[v]["doc_count"])
                |<br>
                for vv in obj2[v]["Countries"]["buckets"]
                  |&nbsp&nbsp&nbsp&nbsp#{vv.key}: #{vv.doc_count}<br>
            .col-sm-4
